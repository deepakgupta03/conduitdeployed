(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b3d80ea"],{"02f4":function(t,e,s){var r=s("4588"),a=s("be13");t.exports=function(t){return function(e,s){var i,n,o=String(a(e)),c=r(s),l=o.length;return c<0||c>=l?t?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===l||(n=o.charCodeAt(c+1))<56320||n>57343?t?o.charAt(c):i:t?o.slice(c,c+2):n-56320+(i-55296<<10)+65536)}}},"3ad6":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-page"},[s("div",{staticClass:"banner"},[s("div",{staticClass:"container"},[s("h1",[t._v(t._s(t.article.title))]),s("ArticleDetails",{attrs:{article:t.article,actions:!0}})],1)]),s("div",{staticClass:"container page"},[s("div",{staticClass:"row article-content"},[s("div",{staticClass:"col-xs-12"},[s("p",[t._v(t._s(t.article.body))]),s("ul",{staticClass:"tag-list"},t._l(t.article.tagList,(function(e,r){return s("li",{key:e+r,staticClass:"tag-default tag-pill tag-outline"},[t._v("\n          "+t._s(e)+"\n          ")])})),0)])]),s("hr"),s("div",{staticClass:"article-actions"},[s("ArticleDetails",{attrs:{article:t.article,actions:!0}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 col-md-8 offset-md-2"},[t.isAuthenticated?s("CommentEditor",{attrs:{slug:t.slug,userImage:t.currentUser.image}}):s("p",[s("router-link",{attrs:{to:{name:"login"}}},[t._v("Sign in")]),t._v("\n          or\n          "),s("router-link",{attrs:{to:{name:"register"}}},[t._v("sign up")]),t._v("\n          to add comments on this article.\n        ")],1),t._l(t.comments,(function(e,r){return s("Comment",{key:r,attrs:{slug:t.slug,comment:e}})}))],2)])])])},a=[],i=(s("ac6a"),s("5df3"),s("4360")),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-meta"},[s("img",{attrs:{src:t.article.author.image}}),s("div",{staticClass:"info"},[s("span",{staticClass:"author"},[t._v("\n      "+t._s(t.article.author.username)+"\n    ")]),s("span",{staticClass:"date"},[t._v(t._s(t.formatDate(t.article.createdAt)))])]),t.isCurrentUser()?[s("span",[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{"data-selector":"edit-article",to:"/editor/"+t.article.slug}},[s("i",{staticClass:"ion-edit"}),s("span",[t._v(" Edit Article")])]),s("span",[t._v("  ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{"data-selector":"btn-delete-article"},on:{click:t.deleteArticle}},[s("i",{staticClass:"ion-trash-a"}),s("span",[t._v(" Delete Article")])])],1)]:t._e(),s("button",{staticClass:"btn btn-sm pull-xs-right",class:{"btn-primary":t.article.favorited,"btn-outline-primary":!t.article.favorited},attrs:{"data-selector":"btn-favorite-article"},on:{click:t.toggleFavorite}},[t.article.favorited?[t._v("\n          Unfavorite Article\n      ")]:[t._v("\n          Favorite Article\n      ")],s("span",{staticClass:"counter"},[t._v("("+t._s(t.article.favoritesCount)+") ")])],2)],2)},o=[],c=s("c1df"),l=s.n(c),u={name:"ArticleDetails",computed:{article:function(){return this.$store.state.articles.article},currentUser:function(){return this.$store.state.users.user},isAuthenticated:function(){return this.$store.getters["users/isAuthenticated"]}},methods:{isCurrentUser:function(){return!!(this.currentUser&&this.currentUser.username&&this.article.author.username)&&this.currentUser.username===this.article.author.username},formatDate:function(t){return l()(t).format("MMMM Do, YYYY")},toggleFavorite:function(){this.isAuthenticated?this.article.favorited?this.$store.dispatch("articles/unFavoriteArticle",this.article.slug):this.$store.dispatch("articles/favoriteArticle",this.article.slug):this.$router.push({name:"login"})},deleteArticle:function(){this.$store.dispatch("articles/deleteArticle",this.article.slug),this.$router.push("/")}}},m=u,d=s("2877"),h=Object(d["a"])(m,n,o,!1,null,null,null),f=h.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[s("p",{staticClass:"card-text"},[t._v(t._s(t.comment.body))])]),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"comment-author",attrs:{href:""}},[s("img",{staticClass:"comment-author-img",attrs:{src:t.comment.author.image}})]),s("span",{staticClass:"comment-author"},[t._v("\n      "+t._s(t.comment.author.username)+"\n    ")]),s("span",{staticClass:"date-posted"},[t._v(t._s(t.formatDate(t.comment.createdAt)))]),t.isLoggedInUser?s("span",{staticClass:"mod-options"},[s("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(e){return t.deleteComment(t.slug,t.comment.id)}}},[s("span",{staticClass:"glyphicon glyphicon-trash"}),t._v(" Delete \n      ")])]):t._e()])])},p=[],v={name:"Comment",props:{slug:{type:String,required:!0},comment:{type:Object,required:!0}},computed:{isLoggedInUser:function(){return!this.$store.state.users.user.username||!this.comment.author.username||this.comment.author.username===this.$store.state.users.user.username}},methods:{formatDate:function(t){return l()(t).format("MMMM Do, YYYY")},deleteComment:function(t,e){this.$store.dispatch("articles/deleteComment",{slug:t,commentId:e})}}},C=v,_=Object(d["a"])(C,g,p,!1,null,null,null),b=_.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"error-messages"},t._l(t.errors,(function(e,r){return s("li",{key:r},[s("span",{domProps:{textContent:t._s(r)}}),t._l(e,(function(e){return s("span",{key:e,domProps:{textContent:t._s(e)}})}))],2)})),0),s("form",{staticClass:"card comment-form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.slug,t.comment)}}},[s("div",{staticClass:"card-block"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{placeholder:"Write a comment...",rows:"3"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),s("div",{staticClass:"card-footer"},[s("img",{staticClass:"comment-author-img",attrs:{src:t.userImage}}),s("button",{staticClass:"btn btn-sm btn-primary"},[t._v("Post Comment")])])])])},L=[],A={name:"CommentEditor",props:{slug:{type:String,required:!0},content:{type:String,required:!1},userImage:{type:String,required:!1}},data:function(){return{comment:this.content||null,errors:{}}},methods:{onSubmit:function(t,e){var s=this;this.$store.dispatch("articles/postComment",{slug:t,comment:e}).then((function(){s.comment=null,s.errors={}})).catch((function(t){var e=t.response;s.errors=e.data.errors}))}}},y=A,$=Object(d["a"])(y,S,L,!1,null,null,null),k=$.exports,D={name:"articleview",props:{slug:{type:String,required:!0}},data:function(){return{errors:{},currentUser:{},tag:""}},components:{ArticleDetails:f,Comment:b,CommentEditor:k},beforeRouteEnter:function(t,e,s){Promise.all([i["a"].dispatch("articles/getArticle",t.params.slug),i["a"].dispatch("articles/getComments",t.params.slug)]).then((function(t){s()}))},computed:{article:function(){return this.$store.state.articles.article},comments:function(){return this.$store.state.articles.comments},isAuthenticated:function(){return this.$store.getters["users/isAuthenticated"]}}},M=D,x=Object(d["a"])(M,r,a,!1,null,null,null);e["default"]=x.exports},"5df3":function(t,e,s){"use strict";var r=s("02f4")(!0);s("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,s=this._i;return s>=e.length?{value:void 0,done:!0}:(t=r(e,s),this._i+=t.length,{value:t,done:!1})}))},ac6a:function(t,e,s){for(var r=s("cadf"),a=s("0d58"),i=s("2aba"),n=s("7726"),o=s("32e9"),c=s("84f2"),l=s("2b4c"),u=l("iterator"),m=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=a(h),g=0;g<f.length;g++){var p,v=f[g],C=h[v],_=n[v],b=_&&_.prototype;if(b&&(b[u]||o(b,u,d),b[m]||o(b,m,v),c[v]=d,C))for(p in r)b[p]||i(b,p,r[p],!0)}}}]);
//# sourceMappingURL=chunk-5b3d80ea.e0c76314.js.map